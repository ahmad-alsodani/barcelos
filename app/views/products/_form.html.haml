%div.form
  
  = form_for(product) do |f|
  
    - if product.errors.any?
      %div#error_explanation
        %h2
          = pluralize(product.errors.count, "error")
          prohibited this product from being saved:

        %ul
          - product.errors.full_messages.each do |msg|
            %li= msg

    %div.pair
      %div.label
        = f.label :photo, t('product.attributes.photo')
      %div.field
        = f.file_field :photo
    
    %div.pair
      %div.label
        = f.label :name, t('product.attributes.name')
      %div.field
        = f.text_field :name
    
    %div.pair
      %div.label
        = f.label :description, t('product.attributes.description')
      %div.field
        = f.text_area :description, { rows: 4 }
  
    %div.submit
      = f.submit      

    %div.actions
      = link_to 'Back', products_path
    
    = render 'edit_variations', form: f, product: product